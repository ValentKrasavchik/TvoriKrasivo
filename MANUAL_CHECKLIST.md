# Ручной чеклист (Manual Checklist)

Проверка системы бронирования мастер-классов по ТЗ.

## Предусловия

- Backend: `cd backend && npm run dev` (порт 3001)
- Admin: `cd admin && npm run dev` (порт 5173 или иной)
- Публичный сайт: открыть `index.html` через сервер (или раздачу статики на нужном порту/пути)
- В backend выполнен `npx prisma db push` и `npx prisma db seed`

---

## 1. Заявка и уменьшение свободных мест

**Шаги:**  
Открыть сайт → выбрать мастер-класс (карточка) → в модалке открыть календарь → выбрать **свободный** слот (подсветка) → ввести имя, телефон, мессенджер, количество участников → отправить заявку.

**Ожидание:**  
- Успешное сообщение о создании заявки.  
- После отправки календарь обновляется (или при следующем открытии модалки): у выбранного слота **свободных мест стало меньше** (freeSeats уменьшилось на количество участников).

**Результат:** ✅ / ❌ — ___________

---

## 2. Видимость мест в другом браузере/инкогнито

**Шаги:**  
В другом браузере или в режиме инкогнито открыть тот же сайт → тот же мастер-класс → модалка с календарём.

**Ожидание:**  
Слоты показывают **те же** обновлённые значения свободных мест (как после шага 1), без перезагрузы кэша первого окна.

**Результат:** ✅ / ❌ — ___________

---

## 3. Overflow: больше мест, чем свободно

**Шаги:**  
Выбрать слот, у которого свободно, например, 2 места. В форме указать **5** участников и отправить заявку.

**Ожидание:**  
- Сообщение вроде: «Столько мест в выбранном времени нет. Мы поставили холд на указанное количество мест и передали запрос администратору.»  
- Заявка создаётся со статусом **PENDING_ADMIN** (в админке видна как «ожидает»).  
- На слоте создаётся **SeatHold** на указанное количество участников; свободные места для других пользователей уменьшаются (слот может стать «занято» по отображению).

**Результат:** ✅ / ❌ — ___________

---

## 4. Админка: pending-заявка → approve/reject

**Шаги:**  
Войти в админку (`/admin` или `http://localhost:5173`) → раздел «Заявки» → найти заявку со статусом **PENDING_ADMIN** (из шага 3).

**Approve:**  
- Нажать «Принять» (approve).  
- Ожидание: статус заявки → CONFIRMED, холд (SeatHold) снимается, места по слоту считаются как занятые этой заявкой (bookedSeats увеличивается).

**Reject:**  
- Для другой такой заявки нажать «Отклонить» (reject).  
- Ожидание: статус → REJECTED, холд снимается, свободные места по слоту возвращаются.

**Результат:** ✅ / ❌ — ___________

---

## 5. Холд слота админом → недоступен на сайте

**Шаги:**  
В админке: календарь слотов → выбрать слот (OPEN) → нажать «Захолдить» / Hold.  
На публичном сайте: открыть тот же мастер-класс → календарь.

**Ожидание:**  
Этот слот отображается как **недоступный/занятый** (серый/штриховка), при клике нельзя отправить заявку (или отправка возвращает ошибку о недоступности слота).

**Результат:** ✅ / ❌ — ___________

---

## Итог

| Пункт | Описание | Результат |
|-------|----------|-----------|
| 1 | Заявка → меньше свободных мест | ___ |
| 2 | Другой браузер видит те же места | ___ |
| 3 | Overflow: сообщение + pending + hold | ___ |
| 4 | Админка: approve/reject, места меняются | ___ |
| 5 | HELD слот недоступен на сайте | ___ |

Все пункты выполнены: __________ (дата, подпись).
